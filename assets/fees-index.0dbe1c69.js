import{a as U}from"./QSelect.9c2e0340.js";import{Q as p}from"./QSpace.db01d5c0.js";import{_ as D,d as I,J as k,G as s,H as u,P as d,R as r,j as l,Q as f,M as a,O as n,K as i,aa as S,N as g,aI as C,bf as h,L as c,F as N,ad as P}from"./index.7b556ff3.js";import{Q as T}from"./QDate.edc299d4.js";import{Q as q}from"./QTd.1c83b076.js";import{Q as Y}from"./QTr.8694b5b7.js";import{Q as B}from"./QTable.3f3a61e5.js";import{w as F}from"./working-component.b2f3abb0.js";import{f as O}from"./fees-printable.992ec688.js";import{a as M,i as R}from"./auth.7706eac0.js";import{u as j}from"./vue-i18n.d5518d49.js";import"./QField.efaf4fb8.js";import"./QItemLabel.98a18efd.js";import"./selection.91c5c328.js";import"./use-render-cache.1a7235d4.js";import"./QList.5981651b.js";import"./QCircularProgress.2ad60061.js";import"./QImg.1133aa02.js";import"./axios.a02fe868.js";import"./index.8e8f3c06.js";import"./_commonjsHelpers.4e997714.js";const W=I({components:{feesPrintable:O,workingWidget:F},methods:{},data(){const e=M(),t=R(),{locale:y,t:v}=j({useScope:"global"});return{locale:y,t:v,authS:e,feesS:t,pagination:{sortBy:"date",descending:!1,page:1,rowsPerPage:50},fdateVisibility:!1,tdateVisibility:!1}}}),E={key:1,class:"q-pa-md"},L={class:"row"},z={class:"col"},G={class:"row full-width q-ma-md"},H={class:"row justify-between"},J=r("br",null,null,-1),K={class:"row full-width justify-between"},A={class:"col"},X={class:"col-1 text-center q-ma-md text-primary"},Z=r("div",{class:"col"},null,-1),_={class:"col"},x={class:"col-1 text-center q-ma-md text-primary"},ee={class:"row full-width q-ma-lg"},te={key:0,class:"col-2 text-center text-weight-bold text-primary"},oe={key:1,class:"col-2 text-center text-weight-bold text-negative"},le={class:"row full-width q-ma-lg"},se={key:0,class:"col-2 text-center text-weight-bold text-primary"},re={key:1,class:"col-2 text-center text-weight-bold text-negative"},ae={key:2,class:"full-width text-center q-ma-lg text-weight-bold text-primary"},ne={key:3,class:"row"},ie={class:"row"},de={key:0},ue={key:4,class:"row"};function fe(e,t,y,v,me,pe){var V,b;const Q=k("workingWidget"),$=k("feesPrintable");return e.feesS.working?(s(),u(Q,{key:0})):(s(),d("div",E,[r("div",L,[r("div",z,[r("div",G,[l(U,{outlined:"",class:"col q-my-md",modelValue:e.feesS.reportSelectedCourse,"onUpdate:modelValue":t[0]||(t[0]=o=>e.feesS.reportSelectedCourse=o),"emit-value":"","map-options":"",options:(V=e.authS.user)==null?void 0:V.courseOptions},null,8,["modelValue","options"]),l(p),l(f,{class:"q-ma-md",color:"primary",label:e.t("generate report"),onClick:t[1]||(t[1]=o=>e.feesS.showReport())},null,8,["label"])]),r("div",H,[r("div",null,[e.feesS.reportSelectedCourse!=null?(s(),u(f,{key:0,label:e.t("export CSV"),color:"primary",class:"q-pa-md q-mx-md",onClick:t[2]||(t[2]=o=>e.feesS.exportCSV(e.feesS.reportTransactions,e.feesS.columns))},null,8,["label"])):a("",!0),e.feesS.reportSelectedCourse!=null?(s(),u(f,{key:1,label:e.t("export CSV - Filtered Data"),color:"primary",class:"q-pa-md q-mx-md",onClick:t[3]||(t[3]=o=>e.feesS.exportCSV(e.feesS.filteredTransactions,e.feesS.columns))},null,8,["label"])):a("",!0)]),r("div",null,[e.feesS.reportSelectedCourse!=null?(s(),u(f,{key:0,color:"negative",class:"q-pa-md q-mx-md",label:e.t("Copy Numbers"),onClick:t[4]||(t[4]=o=>e.feesS.copy(e.feesS.reportTransactions))},null,8,["label"])):a("",!0),e.feesS.reportSelectedCourse!=null?(s(),u(f,{key:1,color:"negative",class:"q-pa-md q-mx-md",label:e.t("Copy Numbers - Filtered"),onClick:t[5]||(t[5]=o=>e.feesS.copy(e.feesS.filteredTransactions))},null,8,["label"])):a("",!0)])])])]),J,r("div",K,[r("div",A,[r("b",X,n(e.t("From")),1),l(S,{outlined:"",modelValue:e.feesS.fdate,"onUpdate:modelValue":t[10]||(t[10]=o=>e.feesS.fdate=o),class:"col"},{append:i(()=>[l(g,{name:"event",class:"cursor-pointer",onClick:t[9]||(t[9]=o=>e.fdateVisibility=!0)},{default:i(()=>[r("div",null,[l(C,{modelValue:e.fdateVisibility,"onUpdate:modelValue":t[8]||(t[8]=o=>e.fdateVisibility=o)},{default:i(()=>[l(T,{modelValue:e.feesS.fdate,"onUpdate:modelValue":[t[6]||(t[6]=o=>e.feesS.fdate=o),t[7]||(t[7]=o=>e.fdateVisibility=!1)],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])]),Z,r("div",_,[r("b",x,n(e.t("To")),1),l(S,{outlined:"",modelValue:e.feesS.tdate,"onUpdate:modelValue":t[15]||(t[15]=o=>e.feesS.tdate=o),class:"col"},{append:i(()=>[l(g,{name:"event",class:"cursor-pointer",onClick:t[14]||(t[14]=o=>e.tdateVisibility=!0)},{default:i(()=>[r("div",null,[l(C,{modelValue:e.tdateVisibility,"onUpdate:modelValue":t[13]||(t[13]=o=>e.tdateVisibility=o)},{default:i(()=>[l(T,{modelValue:e.feesS.tdate,"onUpdate:modelValue":[t[11]||(t[11]=o=>e.feesS.tdate=o),t[12]||(t[12]=o=>e.tdateVisibility=!1)],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])]),r("div",ee,[e.feesS.reportTransactions.length>0?(s(),d("div",te,n(e.t("Rows Count"))+": "+n(e.feesS.reportTransactions.length),1)):a("",!0),l(p),e.feesS.filteredTransactions.length>0?(s(),d("div",oe,n(e.t("Filtered Rows Count"))+": "+n(e.feesS.filteredTransactions.length),1)):a("",!0)]),e.feesS.reportTransactions.length>0&&e.feesS.reportSelectedCourse!=null?(s(),u(h,{key:0,inset:""})):a("",!0),r("div",le,[e.feesS.reportTransactions.length>0&&e.feesS.reportSelectedCourse!=null?(s(),d("div",se,n(e.t("Total In"))+": "+n(e.feesS.totalIn),1)):a("",!0),l(p),e.feesS.reportTransactions.length>0&&e.feesS.reportSelectedCourse!=null?(s(),d("div",re,n(e.t("Total Out"))+": "+n(e.feesS.totalOut),1)):a("",!0)]),e.feesS.reportTransactions.length>0&&e.feesS.reportSelectedCourse!=null?(s(),u(h,{key:1,inset:""})):a("",!0),e.feesS.reportTransactions.length>0&&e.feesS.reportSelectedCourse!=null?(s(),d("div",ae,[l(f,{size:"lg",class:"col-2",color:"primary"},{default:i(()=>[c(n(e.t("Net (In - Out)"))+": "+n(e.feesS.totalIn-e.feesS.totalOut),1)]),_:1})])):a("",!0),e.feesS.reportTransactions.length>0&&e.feesS.reportSelectedCourse!=null?(s(),d("div",ne,[l(B,{flat:"",bordered:"",class:"full-width",rows:e.feesS.filteredTransactions,columns:e.feesS.columns,pagination:e.pagination},{"top-right":i(()=>[r("div",ie,[l(S,{outlined:"",dense:"",debounce:"300",modelValue:e.feesS.filter,"onUpdate:modelValue":t[16]||(t[16]=o=>e.feesS.filter=o),placeholder:e.t("Search")},{append:i(()=>[l(g,{name:"fa-solid fa-magnifying-glass"})]),_:1},8,["modelValue","placeholder"]),l(f,{onClick:t[17]||(t[17]=o=>e.feesS.filter=""),icon:"fa-solid fa-square-xmark",color:"negative",flat:""})])]),body:i(o=>[l(Y,{props:o},{default:i(()=>[(s(!0),d(N,null,P(o.cols,m=>(s(),u(q,{key:m.name,props:o},{default:i(()=>[c(n(m.value),1)]),_:2},1032,["props"]))),128)),l(q,{"auto-width":""},{default:i(()=>{var m;return[l(f,{flat:"",color:"primary",icon:"fa-solid fa-print",onClick:w=>{e.feesS.transaction=o.row,o.row.showPrintable=!0}},null,8,["onClick"]),((m=e.feesS.transaction)==null?void 0:m.id)==o.row.id?(s(),d("div",de,[l($,{modelValue:o.row.showPrintable,"onUpdate:modelValue":w=>o.row.showPrintable=w},null,8,["modelValue","onUpdate:modelValue"])])):a("",!0)]}),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])])):a("",!0),e.feesS.reportSelectedCourse!=null&&((b=e.feesS.reportSelectedCourse.course_students)==null?void 0:b.length)==0?(s(),d("div",ue,n(e.t("No Elements To Display")),1)):a("",!0)]))}var Be=D(W,[["render",fe]]);export{Be as default};
