import{a as m}from"./QSelect.9c2e0340.js";import{Q as a}from"./QField.efaf4fb8.js";import{_ as w,d as h,G as n,P as u,j as t,K as p,Q as i,H as k,M as S,C as f,bh as A,R as c}from"./index.7b556ff3.js";import{Q as r}from"./QTable.3f3a61e5.js";import{m as C,c as v,s as b}from"./auth.7706eac0.js";import"./QItemLabel.98a18efd.js";import"./selection.91c5c328.js";import"./QList.5981651b.js";import"./axios.a02fe868.js";import"./vue-i18n.d5518d49.js";import"./index.8e8f3c06.js";import"./_commonjsHelpers.4e997714.js";const g=h({data(){return{homeworkAnswersS:C(),attendancesS:v(),studentsS:b()}},mounted(){setTimeout(()=>{this.attendancesS.selectedCourse!=null&&this.attendancesS.selectedCourse.lessonOptions.length>0&&(this.homeworkAnswersS.lesson=this.attendancesS.selectedCourse.lessonOptions[0].value,this.homeworkAnswersS.queryByLesson(this.homeworkAnswersS.lesson))},500)},computed:{studentsWithHomeworkDeliveered(){return this.homeworkAnswersS.foundStudents.length==0?[]:this.homeworkAnswersS.foundStudents.filter(e=>e.homeworkAnswer!=null)},students(){return this.homeworkAnswersS.foundStudents.length==0?[]:this.homeworkAnswersS.foundStudents.filter(e=>e.homeworkAnswer==null)}}}),y={key:0},q={key:1};function B(e,s,Q,V,$,H){var l,d;return((l=e.attendancesS.selectedCourse)==null?void 0:l.offline_homework_mode)==!0?(n(),u("div",y,[t(m,{options:(d=e.attendancesS.selectedCourse)==null?void 0:d.lessonOptions,modelValue:e.homeworkAnswersS.lesson,"onUpdate:modelValue":[s[0]||(s[0]=o=>e.homeworkAnswersS.lesson=o),s[1]||(s[1]=o=>e.homeworkAnswersS.queryByLesson(o))],label:"lesson",outlined:"",style:{width:"200px"},placeholder:"select lesson","emit-value":"","map-options":"",behavior:"dialog",class:"full-width q-pa-md"},null,8,["options","modelValue"]),t(a,{class:"full-width q-pa-md"},{default:p(()=>[f(c("textarea",{"onUpdate:modelValue":s[2]||(s[2]=o=>e.homeworkAnswersS.studentInput=o),placeholder:"students phone numbers one for each line",multiline:"",class:"full-width q-pa-md"},null,512),[[A,e.homeworkAnswersS.studentInput]])]),_:1}),t(i,{class:"full-width q-ma-md",label:"find students",color:"green",onClick:s[3]||(s[3]=o=>e.homeworkAnswersS.findCourseStudents())}),t(r,{rows:e.homeworkAnswersS.missing,title:"missing phone numbers",columns:[{label:"phoneNumber",align:"left",name:"phoneNumber",field(o){return o}}]},null,8,["rows","columns"]),e.studentsWithHomeworkDeliveered.length>0?(n(),k(r,{key:0,title:"students with homework delivered",columns:e.homeworkAnswersS.studentCourseColumns,rows:e.studentsWithHomeworkDeliveered},null,8,["columns","rows"])):S("",!0),t(r,{title:"found students: bulk insert homework answers",rows:e.students,columns:e.homeworkAnswersS.studentCourseColumns,selection:"multiple",selected:e.homeworkAnswersS.selectedStudents,"onUpdate:selected":s[4]||(s[4]=o=>e.homeworkAnswersS.selectedStudents=o)},null,8,["rows","columns","selected"]),t(i,{class:"full-width q-ma-md",label:"insert selected",color:"red",onClick:s[5]||(s[5]=o=>e.homeworkAnswersS.bulkInsertHomeworkAnswers())})])):(n(),u("div",q,"this course is not configured to have offline homework"))}var G=w(g,[["render",B]]);export{G as default};
